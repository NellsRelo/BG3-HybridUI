<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
					xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
					xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
					xmlns:System="clr-namespace:System;assembly=mscorlib"
					xmlns:ls="clr-namespace:ls;assembly=Code"
					xmlns:noesis="clr-namespace:NoesisGUIExtensions;assembly=Noesis.GUI.Extensions"
					mc:Ignorable="d">

          <!-- Appearance Selector for Non-Dragonborn Draconic Bloodline Sorcerers -->
          <ControlTemplate x:Key="draconicAppearanceTemplate">
            <DockPanel>
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" DockPanel.Dock="Top">
                    <ContentControl Template="{StaticResource HUI_SelectorHeader}">
                        <TextBlock ls:TextBlockFormatter.SourceText="{Binding Source='h7572d825gd782g43a5g90aag7f5d814a5f1a', Converter={StaticResource TranslatedStringConverter}}" Style="{StaticResource PanelHeaderText}"/>
                    </ContentControl>
                    
                    <!-- Tab Carousel for Scales/Colors -->
                    <ContentControl x:Name="draconicTabsCarousel" Template="{StaticResource HUI_CarouselHeaderDecorator}">
                        <ListBox x:Name="draconicTabs" Template="{StaticResource HUI_HardcodedCarousel}" SelectedIndex="0">
                            <ListBox.Items>
                                <ListBoxItem Tag="scales" Content="{Binding Source='h24787db3gf28dg4d79g8c0age428d4067710', Converter={StaticResource TranslatedStringConverter}}"/>
                                <ListBoxItem Tag="colors" Content="{Binding Source='h9a8b7a34g0b55g47dbg9bd3ga7cd487fe423', Converter={StaticResource TranslatedStringConverter}}"/>
                            </ListBox.Items>
                        </ListBox>
                    </ContentControl>

                    <ContentControl x:Name="draconicTabsEmpty" Template="{StaticResource HUI_CarouselHeaderDecorator}">
                      <TextBlock x:Name="draconicDragonbornColourHeader" ls:TextBlockFormatter.SourceText="{Binding Source='h24787db3gf28dg4d79g8c0age428d4067710', Converter={StaticResource TranslatedStringConverter}}" Style="{StaticResource PanelHeaderText}" Height="100" Margin="0,0,0,0" />
                    </ContentControl>
                </StackPanel>

                <ScrollViewer Style="{StaticResource gameplayPanelScrollViewerStyle}"  VerticalScrollBarVisibility="Auto"
                          Grid.Row="1" Margin="0,50,0,0" Height="1200">
                    <StackPanel Style="{StaticResource gameplayScrolledStackPanelStyle}" x:Name="draconicAppearanceOptions"  VerticalAlignment="Stretch" >

                        <!-- Scales Content -->
                        <StackPanel x:Name="scalesContent" Margin="0,50,0,50">
                            <ListBox ItemsSource="{Binding SelectableScales}" SelectedItem="{Binding SelectedScales}" Style="{StaticResource appearanceIconGridStyle}" Margin="0,30,0,0"/>
                        </StackPanel>

                        <!-- Colors Content -->
                        <StackPanel x:Name="colorsContent" Visibility="Collapsed" Margin="0,50,0,50">
                            <ItemsControl Style="{StaticResource ColorOptionsStyle}" ItemsSource="{Binding AppearancePassive.ColorOptions}" Margin="0,0,0,30"/>
                            <ListBox ItemsSource="{Binding SelectablePassiveColours}" SelectedItem="{Binding SelectedPassiveColour}" ItemTemplate="{StaticResource selectableColourTemplate}" Style="{StaticResource appearanceOverpanelListBoxStyle}"/>
                        </StackPanel>

                    </StackPanel>
                </ScrollViewer>
            </DockPanel>
          <ControlTemplate.Triggers>
            
            <!-- Tab Content Visibility -->
            <DataTrigger Binding="{Binding ElementName=draconicTabs, Path=SelectedItem.Tag}" Value="scales">
                <Setter TargetName="scalesContent" Property="Visibility" Value="Visible"/>
                <Setter TargetName="colorsContent" Property="Visibility" Value="Collapsed"/>
            </DataTrigger>
            
            <DataTrigger Binding="{Binding ElementName=draconicTabs, Path=SelectedItem.Tag}" Value="colors">
                <Setter TargetName="scalesContent" Property="Visibility" Value="Collapsed"/>
                <Setter TargetName="colorsContent" Property="Visibility" Value="Visible"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding AppearancePassive.EmptyMaterialSelected}" Value="True">
                <Setter TargetName="draconicTabsCarousel" Property="Visibility" Value="Collapsed"/>
                <Setter TargetName="draconicTabsEmpty" Property="Visibility" Value="Visible"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding AppearancePassive.EmptyMaterialSelected}" Value="False">
                <Setter TargetName="draconicTabsCarousel" Property="Visibility" Value="Visible"/>
                <Setter TargetName="draconicTabsEmpty" Property="Visibility" Value="Collapsed"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
          </ControlTemplate>

          <!-- Appearance Selector for Dragonborn Draconic Bloodline Sorcerers -->
          <ControlTemplate x:Key="draconicAppearanceTemplateDragonBorn">
            <DockPanel>
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" DockPanel.Dock="Top">
                    <ContentControl Template="{StaticResource HUI_SelectorHeader}">
                        <TextBlock ls:TextBlockFormatter.SourceText="{Binding Source='h0e1fded7g681ag4e5fgb0a2gc5928ab399a1', Converter={StaticResource TranslatedStringConverter}}" Style="{StaticResource PanelHeaderText}" />
                    </ContentControl>
                </StackPanel>
                <StackPanel Style="{StaticResource gameplayScrolledStackPanelStyle}" Margin="0,50,0,50">

                    <!-- Decorator for Header - using this for consistency, but normally it would just be used in Carousels -->
                    <ContentControl Template="{StaticResource HUI_CarouselHeaderDecorator}">
                      <TextBlock x:Name="draconicDragonbornColourHeader" ls:TextBlockFormatter.SourceText="{Binding Source='h861a433dgcc20g452bg9b1agde89d14c85c9', Converter={StaticResource TranslatedStringConverter}}" Style="{StaticResource PanelHeaderText}" Height="100" Margin="0,0,0,0" />
                    </ContentControl>

                    <ls:LSToggleButton x:Name="draconicDragonbornToggle" Template="{StaticResource DraconicDragonbornTickBoxTemplate}" HorizontalAlignment="Center" ls:MoveFocus.Focusable="True" IsChecked="{Binding AppearancePassive.EmptyMaterialSelected, Mode=TwoWay, Converter={StaticResource InvertBoolConverter}}" Command="{Binding DragonbornDraconicLinesToggleCommand}"/>
                    <ItemsControl x:Name="draconicDragonbornColourOptionList" Style="{StaticResource ColorOptionsStyle}" ItemsSource="{Binding AppearancePassive.ColorOptions}"/>

                    <ScrollViewer Style="{StaticResource gameplayPanelScrollViewerStyle}"  VerticalScrollBarVisibility="Auto"
                          Grid.Row="1" Margin="0,50,0,0" Height="1200">
                        <ListBox x:Name="draconicDragonbornColourOptionGrid" ItemsSource="{Binding SelectablePassiveColours}" SelectedItem="{Binding SelectedPassiveColour}" ItemTemplate="{StaticResource selectableColourTemplate}" Style="{StaticResource appearanceOverpanelListBoxStyle}" Margin="0,50,0,0"/>
                    </ScrollViewer>

                </StackPanel>
            </DockPanel>
          <ControlTemplate.Triggers>
              <DataTrigger Binding="{Binding ElementName=draconicDragonbornToggle, Path=(ls:MoveFocus.IsFocused)}" Value="True">
                  <Setter TargetName="draconicDragonbornToggle" Property="BoundEvent" Value="UIAccept"/>
              </DataTrigger>
              <DataTrigger Binding="{Binding AppearancePassive.EmptyMaterialSelected}" Value="True">
                  <Setter TargetName="draconicDragonbornColourOptionList" Property="Visibility" Value="Collapsed"/>
                  <Setter TargetName="draconicDragonbornColourOptionGrid" Property="Visibility" Value="Collapsed"/>
              </DataTrigger>
          </ControlTemplate.Triggers>
          </ControlTemplate>

          <!-- General Appearance Template -->
          <ControlTemplate x:Key="GeneralAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="General Appearance" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Body Type, Skin Tone, Voice options would appear here." Foreground="White" Margin="0,0,0,20"/>
                    <Border Background="#33FFFFFF" Height="400" CornerRadius="5">
                        <TextBlock Text="General appearance controls placeholder" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                </StackPanel>
            </Grid>
          </ControlTemplate>

          <!-- Face Appearance Template -->
          <ControlTemplate x:Key="FaceAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="Face" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Face options, scars, and facial features." Foreground="White" Margin="0,0,0,20"/>
                    <Border Background="#33FFFFFF" Height="400" CornerRadius="5">
                        <TextBlock Text="Face appearance controls placeholder" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                </StackPanel>
            </Grid>
          </ControlTemplate>

          <!-- Hair Appearance Template -->
          <ControlTemplate x:Key="HairAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="Hair" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Hairstyles, hair colors, and facial hair." Foreground="White" Margin="0,0,0,20"/>
                    <Border Background="#33FFFFFF" Height="400" CornerRadius="5">
                        <TextBlock Text="Hair appearance controls placeholder" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                </StackPanel>
            </Grid>
          </ControlTemplate>

          <!-- Eyes Appearance Template -->
          <ControlTemplate x:Key="EyesAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="Eyes" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Eye colors and shapes." Foreground="White" Margin="0,0,0,20"/>
                    <Border Background="#33FFFFFF" Height="400" CornerRadius="5">
                        <TextBlock Text="Eyes appearance controls placeholder" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                </StackPanel>
            </Grid>
          </ControlTemplate>

          <!-- Accessories Appearance Template -->
          <ControlTemplate x:Key="AccessoriesAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="Accessories" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Tattoos, piercings, and makeup." Foreground="White" Margin="0,0,0,20"/>
                    <Border Background="#33FFFFFF" Height="400" CornerRadius="5">
                        <TextBlock Text="Accessories appearance controls placeholder" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                </StackPanel>
            </Grid>
          </ControlTemplate>

          <!-- Features Appearance Template -->
          <ControlTemplate x:Key="FeaturesAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="Features" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Special features like horns, tails, etc." Foreground="White" Margin="0,0,0,20"/>
                    <Border Background="#33FFFFFF" Height="400" CornerRadius="5">
                        <TextBlock Text="Features appearance controls placeholder" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                </StackPanel>
            </Grid>
          </ControlTemplate>

          <!-- Passive Features Appearance Template -->
          <ControlTemplate x:Key="PassiveFeaturesAppearanceTemplate">
            <Grid Background="Transparent">
                <StackPanel Width="{StaticResource gameplayPanelWidth}" HorizontalAlignment="Left" Margin="50,50,0,0">
                    <TextBlock Text="Passive Features" Style="{StaticResource PanelHeaderText}" Margin="0,0,0,30"/>
                    <TextBlock Text="Draconic bloodline and other passive appearance options." Foreground="White" Margin="0,0,0,20"/>
                    <!-- Use the existing draconic appearance content for passive features -->
                    <ContentControl Template="{StaticResource draconicAppearanceTemplate}"/>
                </StackPanel>
            </Grid>
          </ControlTemplate>

</ResourceDictionary>